name: Master workflow
on:
  push:
    branches:
      - master
jobs:
  testing:
    name: Testing
    runs-on: macos-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v2
      - name: Install stuff
        run: |
          brew install minikube
          brew install hyperkit
          brew install docker
          minikube start --wait all
      - name: Run Docker stuff
        run: |
          minikube docker-env
          eval $(minikube docker-env)
          docker version
          docker build . -t testing
          docker container run testing
